<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Para Ti ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&family=Cormorant+Garamond:ital,wght@1,300;1,400&display=swap" rel="stylesheet">

<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg1: #0d1b35;
  --bg2: #0a1020;
  --rose: #ff3b6e;
  --rose2: #ff6b95;
  --pill: rgba(70,30,100,0.85);
}

html, body {
  width: 100%; height: 100%;
  background: var(--bg2);
  font-family: 'Nunito', sans-serif;
  overflow: hidden;
  color: #fff;
  -webkit-tap-highlight-color: transparent;
}

/* STARS */
#stars-bg {
  position: fixed; inset: 0; pointer-events: none; z-index: 0;
  background: radial-gradient(ellipse at 50% 0%, #1a2a50 0%, #0a1020 65%);
  overflow: hidden;
}
.star {
  position: absolute; border-radius: 50%; background: #fff;
  animation: tw var(--d) ease-in-out infinite var(--dl);
}
@keyframes tw { 0%,100%{opacity:.15;} 50%{opacity:.9;} }

/* SCREENS */
.screen {
  position: fixed; inset: 0; z-index: 10;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  transition: opacity .7s ease;
}
.screen.off { opacity: 0; pointer-events: none; }

/* LOADING */
#scr-load { gap: 22px; }
.galaxy {
  font-size: 64px;
  animation: gspin 10s linear infinite;
  filter: drop-shadow(0 0 20px rgba(180,80,255,.6));
}
@keyframes gspin { to { transform: rotate(360deg); } }
.ld-title {
  font-family: 'Cormorant Garamond', serif; font-style: italic;
  font-size: clamp(18px,5vw,26px); letter-spacing: 5px;
  text-transform: uppercase; color: #e8cfff; opacity: .85;
}
.ld-sub { font-size: 11px; letter-spacing: 6px; text-transform: uppercase; color: var(--rose2); opacity:.6; margin-top:-14px; }
.bar-track { width: min(260px,68vw); height: 3px; background: rgba(255,255,255,.08); border-radius:99px; overflow:hidden; }
.bar-fill { height:100%; width:0%; background: linear-gradient(90deg, var(--rose), #ff9abc); border-radius:99px; box-shadow:0 0 8px var(--rose); transition: width .08s linear; }
.pct { font-size:11px; letter-spacing:3px; color:var(--rose2); opacity:.55; }

/* CLICK */
#scr-click { cursor:pointer; gap:26px; }
.orb {
  width:110px; height:110px; border-radius:50%;
  border:1px solid rgba(255,77,141,.35);
  background: radial-gradient(circle, rgba(255,60,110,.25) 0%, transparent 65%);
  display:flex; align-items:center; justify-content:center; font-size:46px;
  animation: op 2.2s ease-in-out infinite, oglow 2.2s ease-in-out infinite;
}
@keyframes op    { 0%,100%{transform:scale(1);}  50%{transform:scale(1.09);} }
@keyframes oglow { 0%,100%{box-shadow:0 0 18px rgba(255,60,110,.4);} 50%{box-shadow:0 0 50px rgba(255,60,110,.6),0 0 80px rgba(255,60,110,.2);} }
.orb-msg { font-family:'Cormorant Garamond',serif; font-style:italic; font-size:clamp(15px,4vw,20px); color:#ffd6e8; opacity:.75; text-align:center; line-height:1.6; padding:0 30px; }
.orb-label { font-size:clamp(13px,3.5vw,16px); letter-spacing:5px; text-transform:uppercase; color:#e8cfff; opacity:.55; animation:blink 2s ease-in-out infinite; }
@keyframes blink { 0%,100%{opacity:.35;} 50%{opacity:.8;} }

/* MAIN */
#scr-main { justify-content:space-between; padding:0 0 44px; }

/* Player pill */
.player-pill {
  margin-top: clamp(14px,5vw,30px);
  background: var(--pill);
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255,100,150,.2);
  border-radius: 60px;
  padding: 10px 20px 10px 10px;
  display: flex; align-items: center; gap: 12px;
  min-width: min(280px,80vw);
  box-shadow: 0 4px 30px rgba(0,0,0,.4);
  cursor: pointer;
}
.play-btn {
  width:42px; height:42px; flex-shrink:0;
  background: var(--rose); border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  box-shadow: 0 0 12px rgba(255,60,110,.5);
  transition: transform .15s;
}
.play-btn:active { transform:scale(.92); }
.play-btn svg { fill:#fff; }
.player-info { flex:1; min-width:0; }
.player-title { font-size:13px; font-weight:700; color:#fff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.progress-row { display:flex; align-items:center; gap:7px; margin-top:5px; }
.prog-bar { flex:1; height:3px; background:rgba(255,255,255,.18); border-radius:99px; overflow:hidden; }
.prog-fill { height:100%; width:0%; background:linear-gradient(90deg, var(--rose), #ff9abc); border-radius:99px; transition:width .5s linear; }
.time-txt { font-size:10px; color:rgba(255,255,255,.55); white-space:nowrap; }

/* Heart area */
.heart-area { flex:1; display:flex; align-items:center; justify-content:center; position:relative; width:100%; }

.heart-wrap {
  position:relative; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
  animation: hbeat 1.4s ease-in-out infinite;
}
@keyframes hbeat {
  0%  { transform: scale(1); }
  14% { transform: scale(1.13); }
  28% { transform: scale(1); }
  42% { transform: scale(1.07); }
  70% { transform: scale(1); }
}
.heart-svg {
  width: clamp(180px,55vw,280px); height:auto;
  filter: drop-shadow(0 0 30px rgba(255,30,80,.7)) drop-shadow(0 0 60px rgba(255,30,80,.35));
}
.heart-glow {
  position:absolute;
  width:clamp(200px,60vw,300px); height:clamp(100px,30vw,160px);
  background: radial-gradient(ellipse, rgba(255,40,80,.35) 0%, transparent 70%);
  bottom:-20px; left:50%; transform:translateX(-50%);
  filter:blur(20px); pointer-events:none;
}

/* Tap hint */
.tap-hint { font-size:12px; letter-spacing:3px; text-transform:uppercase; color:rgba(255,150,180,.6); margin-bottom:10px; animation:blink 2.5s ease-in-out infinite; }

/* FLOATING PHRASE */
.float-phrase {
  position: fixed;
  left: 50%;
  background: var(--pill);
  backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255,100,150,.22);
  border-radius: 50px;
  padding: 11px 24px;
  font-size: clamp(13px,3.8vw,16px);
  font-weight: 600; color: #fff;
  white-space: nowrap;
  pointer-events: none;
  z-index: 50;
  box-shadow: 0 4px 24px rgba(0,0,0,.35);
  animation: floatUp 3s cubic-bezier(0.2,0,0.3,1) forwards;
}
@keyframes floatUp {
  0%   { opacity:0;   transform: translateX(-50%) translateY(0px) rotate(var(--rot)); }
  12%  { opacity:1; }
  70%  { opacity:1;   transform: translateX(-50%) translateY(var(--rise)) rotate(var(--rot)); }
  100% { opacity:0;   transform: translateX(-50%) translateY(calc(var(--rise) - 25px)) rotate(var(--rot)); }
}
</style>
</head>
<body>

<div id="stars-bg"></div>

<!-- Native audio player ‚Äî src injected by JS -->
<audio id="audio" loop preload="none"></audio>

<!-- LOADING -->
<div class="screen" id="scr-load">
  <div class="galaxy">üåå</div>
  <div class="ld-title">Cargando universo</div>
  <div class="ld-sub">espera un momento...</div>
  <div class="bar-track"><div class="bar-fill" id="ld-bar"></div></div>
  <div class="pct" id="ld-pct">0%</div>
</div>

<!-- CLICK -->
<div class="screen off" id="scr-click" onclick="goMain()">
  <div class="orb">‚ú®</div>
  <p class="orb-msg">Hay algo especial<br>esper√°ndote aqu√≠...</p>
  <div class="orb-label">toca para abrir</div>
</div>

<!-- MAIN -->
<div class="screen off" id="scr-main">

  <div class="player-pill" onclick="togglePlay()">
    <div class="play-btn" id="playBtn">
      <svg id="ico-play" width="18" height="18" viewBox="0 0 24 24"><polygon points="5,3 19,12 5,21"/></svg>
      <svg id="ico-pause" width="18" height="18" viewBox="0 0 24 24" style="display:none"><rect x="5" y="3" width="4" height="18" rx="1"/><rect x="15" y="3" width="4" height="18" rx="1"/></svg>
    </div>
    <div class="player-info">
      <div class="player-title">Te dedico esta canci√≥n ‚ù§Ô∏è</div>
      <div class="progress-row">
        <div class="prog-bar"><div class="prog-fill" id="prog-fill"></div></div>
        <div class="time-txt" id="time-txt">0:00 ¬∑ 0:00</div>
      </div>
    </div>
  </div>

  <div class="heart-area">
    <div class="heart-wrap" id="heartWrap" onclick="spawnPhrase(event)">
      <svg class="heart-svg" viewBox="0 0 200 185" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <radialGradient id="hgr" cx="50%" cy="35%" r="65%">
            <stop offset="0%"   stop-color="#ff7aaa"/>
            <stop offset="50%"  stop-color="#ff2255"/>
            <stop offset="100%" stop-color="#cc0033"/>
          </radialGradient>
          <radialGradient id="shine" cx="35%" cy="25%" r="35%">
            <stop offset="0%"  stop-color="rgba(255,255,255,.55)"/>
            <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
          </radialGradient>
        </defs>
        <path d="M100 170 C100 170 10 108 10 55 C10 27 30 8 58 8 C73 8 87 16 100 30 C113 16 127 8 142 8 C170 8 190 27 190 55 C190 108 100 170 100 170Z" fill="url(#hgr)"/>
        <path d="M100 170 C100 170 10 108 10 55 C10 27 30 8 58 8 C73 8 87 16 100 30 C113 16 127 8 142 8 C170 8 190 27 190 55 C190 108 100 170 100 170Z" fill="url(#shine)"/>
        <ellipse cx="72" cy="45" rx="18" ry="9" fill="rgba(255,255,255,.28)" transform="rotate(-30,72,45)"/>
      </svg>
      <div class="heart-glow"></div>
    </div>
  </div>

  <div class="tap-hint">toca el coraz√≥n ‚ú®</div>
</div>

<script>
// STARS
const starsEl = document.getElementById('stars-bg');
for(let i=0;i<130;i++){
  const s=document.createElement('div'); s.className='star';
  const sz=Math.random()*2.2+.4;
  s.style.cssText=`width:${sz}px;height:${sz}px;top:${Math.random()*100}%;left:${Math.random()*100}%;--d:${2+Math.random()*5}s;--dl:${Math.random()*5}s`;
  starsEl.appendChild(s);
}

// LOADING
const barEl=document.getElementById('ld-bar'), pctEl=document.getElementById('ld-pct');
let prog=0, si=0;
const spds=[1,1.5,2,.8,1.2,1,.5,1.8,2.2,1];
function step(){
  prog=Math.min(100, prog+spds[si++%spds.length]*(Math.random()*1.5+.5));
  barEl.style.width=prog+'%'; pctEl.textContent=Math.floor(prog)+'%';
  prog<100 ? setTimeout(step,65+Math.random()*80) : (barEl.style.width='100%', pctEl.textContent='100%', setTimeout(showClick,600));
}
setTimeout(step,400);

function showClick(){
  document.getElementById('scr-load').classList.add('off');
  setTimeout(()=>document.getElementById('scr-click').classList.remove('off'),50);
}
function goMain(){
  document.getElementById('scr-click').classList.add('off');
  setTimeout(()=>document.getElementById('scr-main').classList.remove('off'),50);
  setTimeout(loadAudio, 300);
}

// ‚îÄ‚îÄ AUDIO PLAYER ‚îÄ‚îÄ
const audio = document.getElementById('audio');
let ticker = null;
let audioReady = false;

// Load local MP3 file
function loadAudio(){
  audio.src = 'briillas.mp3';
  audioReady = true;
  audio.load();
  audio.play().then(()=>{ setIcons(true); startTick(); }).catch(()=>setIcons(false));
}

function startAudio(){
  if(!audioReady) return;
  audio.play().then(()=>{ setIcons(true); startTick(); });
}

function togglePlay(){
  if(!audioReady){
    loadAudio(); return;
  }
  if(audio.paused){
    audio.play().then(()=>{ setIcons(true); startTick(); });
  } else {
    audio.pause();
    setIcons(false);
  }
}

function setIcons(p){
  document.getElementById('ico-play').style.display  = p ? 'none' : 'block';
  document.getElementById('ico-pause').style.display = p ? 'block' : 'none';
}

function fmt(s){ s=Math.floor(s)||0; return Math.floor(s/60)+':'+(s%60<10?'0':'')+s%60; }

function updateTime(){
  const cur = audio.currentTime || 0;
  const d   = audio.duration   || 0;
  document.getElementById('prog-fill').style.width = d ? (cur/d*100)+'%' : '0%';
  document.getElementById('time-txt').textContent  = fmt(cur)+' ¬∑ '+fmt(d);
}

function startTick(){
  clearInterval(ticker);
  ticker = setInterval(()=>{
    if(!audio.paused) updateTime();
    else clearInterval(ticker);
  }, 500);
}

audio.addEventListener('ended', ()=>{ setIcons(false); clearInterval(ticker); });
audio.addEventListener('loadedmetadata', updateTime);

// PHRASES
const phrases = [
  "Te amo, Emeli ‚ù§Ô∏è",
  "Nos dimos todo lo que se nos dio üåô",
  "Gracias por estos 6 meses ü•Ç",
  "Y brillamos juntos entre pesta√±as ‚ú®",
  "Siempre ser√°s mi inspiraci√≥n üåü",
  "Divina, divina sonrisa üí´",
  "Abrazo de Luna llena üåï",
  "Alg√∫n d√≠a te llevar√© a Huesos üíÄüòÇ",
  "Amanecer colgado de tus labios üåÖ",
  "Y as√≠, juntitos los dos üíû",
  "Para despu√©s reconocernos otra vez üîÅ",
  "Nos dimos todo eso y mucho m√°s ‚ù§Ô∏è",
];
const rots = [-5,-3,0,3,5,-4,4,-2,2];
let pidx = 0;

function spawnPhrase(e){
  const hw = document.getElementById('heartWrap');
  const rect = hw.getBoundingClientRect();
  const startY = rect.top + rect.height * 0.55;

  const el = document.createElement('div');
  el.className = 'float-phrase';
  el.textContent = phrases[pidx % phrases.length];
  el.style.top = startY + 'px';
  el.style.setProperty('--rot', rots[pidx%rots.length] + 'deg');

  const rise = -(155 + Math.random()*70) + 'px';
  el.style.setProperty('--rise', rise);

  // slight horizontal jitter
  const ox = (Math.random()-.5)*60;
  el.style.marginLeft = ox+'px';

  document.body.appendChild(el);
  el.addEventListener('animationend', ()=>el.remove());
  pidx++;
}
</script>
</body>
</html>
